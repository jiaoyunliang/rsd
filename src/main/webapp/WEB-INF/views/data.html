<!doctype html>
<html class="no-js fixed-layout" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout_new/layout}">
<head th:include="layout_new/layout :: htmlhead" th:with="title=''">
  <meta charset="utf-8">
  <title></title>
</head>
<body>
<th:block layout:fragment="content">
    <div class="row-content am-cf">
      <div class="row">
        <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
          <div class="widget am-cf">
            <div class="widget-head am-cf">
              <div class="widget-title  am-cf"></div>
            </div>
            <div class="widget-body  am-fr">
              <div class="am-u-sm-12">
                <table width="100%" class="am-table am-table-compact am-table-striped tpl-table-black am-text-nowrap" id="example-r">
                  <thead>
                  <tr>
                    <th>值</th>
                    <th>时间</th>
                  </tr>
                  </thead>
                  <tbody>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</th:block>

</body>
</html>
<script type="text/javascript" th:inline="javascript">

  $(document).ready(function(){
    $('#example-r').DataTable({
      ajax: {
        url:"/admin/data/list",
        type: "POST",
        dataType : 'json',
        data:function (d) {
          var query = {};
          d.columns = null;
          return $.extend( true, d,  query);
        }
      },
      responsive: true,
      stateDuration: -1,
      processing: true,
      serverSide: true,
      lengthChange:false,
      columns: [

        {data: "val"  ,render:function (data) {
           return data+"cm";
        }},
        {data: "createDate" }
      ]
    });

  });

</script>